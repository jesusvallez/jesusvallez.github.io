---
import type { Experience } from '../@types'
import ExperienceItem from './ExperienceItem.astro'

interface Props {
  name: string
  job: Experience[]
}

const { name, job } = Astro.props
---

<section
  class="mx-auto mt-8 flex w-full max-w-6xl flex-col items-start justify-between gap-2 px-6 md:mt-20 md:flex-row md:px-4 lg:mt-24"
>
  <div class="shrink-0 grow-0 md:basis-48">
    <h2
      class="inline bg-gradient-to-bl from-my-tertiary to-my-tertiary bg-[length:90%_35%] bg-bottom bg-no-repeat text-h5 font-extrabold uppercase"
    >
      {name}
    </h2>
  </div>
  <div class="w-full space-y-8">
    {
      job.map((work) => (
        <article class:list={['relative flex flex-col items-start gap-2']}>
          <div>
            <h3 class="inline bg-gradient-to-bl from-my-secondary to-my-secondary bg-[length:90%_18%] bg-bottom bg-no-repeat text-h5 font-extrabold">
              {work.name}
            </h3>
          </div>
          <p class="mt-2 inline text-caption font-medium text-my-primary">{work.location}</p>
          <ul class="w-full space-y-4">
            {work.job.map((workspace) => (
              <li>
                <div class="mb-2 flex flex-col justify-between md:flex-row md:items-center">
                  <h4 class="text-h6 font-extrabold">{workspace.name}</h4>
                  <p class="text-body2 font-medium text-neutral-400">
                    {workspace.startDate} - {workspace.endDate}
                  </p>
                </div>

                <ExperienceItem description={workspace.description} />
              </li>
            ))}
          </ul>
        </article>
      ))
    }
  </div>
</section>
